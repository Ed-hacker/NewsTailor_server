# Project TNP ì¤‘ê°„ë³´ê³ ì„œ - ì£¼ìš” ê¸°ëŠ¥ ë° ì½”ë“œ ë¶„ì„

## ğŸ“‹ ëª©ì°¨
1. [í”„ë¡œì íŠ¸ ê°œìš”](#í”„ë¡œì íŠ¸-ê°œìš”)
2. [AI API ë§ˆì´ê·¸ë ˆì´ì…˜: OpenAI â†’ Gemini](#ai-api-ë§ˆì´ê·¸ë ˆì´ì…˜-openai--gemini)
3. [ì£¼ìš” ê¸°ëŠ¥ë³„ ì½”ë“œ ë¶„ì„](#ì£¼ìš”-ê¸°ëŠ¥ë³„-ì½”ë“œ-ë¶„ì„)
4. [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
5. [êµ¬í˜„ ì„±ê³¼ ë° í–¥í›„ ê³„íš](#êµ¬í˜„-ì„±ê³¼-ë°-í–¥í›„-ê³„íš)

---

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

### í”„ë¡œì íŠ¸ëª…
**ê°œì¸ ë§ì¶¤í˜• ë‰´ìŠ¤ ìš”ì•½ ë° TTS ì„œë¹„ìŠ¤ (Project TNP - Today's News Personalized)**

### í•µì‹¬ ëª©í‘œ
ì‚¬ìš©ìì˜ ê´€ì‹¬ë¶„ì•¼ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê°œì¸í™”ëœ ë‰´ìŠ¤ë¥¼ ì œê³µí•˜ê³ , AI ìš”ì•½ ê¸°ëŠ¥ì„ í†µí•´ íš¨ìœ¨ì ì¸ ë‰´ìŠ¤ ì†Œë¹„ í™˜ê²½ì„ ì œê³µí•˜ëŠ” ì¢…í•© ë‰´ìŠ¤ í”Œë«í¼ ê°œë°œ

### ê¸°ìˆ  ìŠ¤íƒ
- **Backend**: Spring Boot 3.4.5, Java 21, Spring Security 6.x
- **Database**: MySQL 8.x
- **Authentication**: JWT
- **AI Services**: Google Gemini API (ê¸°ì¡´ OpenAIì—ì„œ ë§ˆì´ê·¸ë ˆì´ì…˜)
- **Web Crawling**: Jsoup 1.17.2
- **Build Tool**: Gradle

---

## ğŸ”„ AI API ë§ˆì´ê·¸ë ˆì´ì…˜: OpenAI â†’ Gemini

### ë§ˆì´ê·¸ë ˆì´ì…˜ ë°°ê²½

#### 1. ê²½ì œì  ì´ìœ 
- **OpenAI API**: ìœ ë£Œ ì„œë¹„ìŠ¤ë¡œ í•™ìƒ í”„ë¡œì íŠ¸ì— ë¶€ë‹´
- **Google Gemini API**: ëŒ€í•™ìƒì—ê²Œ ë¬´ë£Œ ì œê³µ, ì›” ì‚¬ìš©ëŸ‰ ì œí•œ ë‚´ì—ì„œ ì¶©ë¶„í•œ ê¸°ëŠ¥ ì œê³µ

#### 2. ê¸°ìˆ ì  ê³ ë ¤ì‚¬í•­
- **API í˜¸ì¶œ ë°©ì‹**: OpenAIì˜ Chat Completions APIì™€ Geminiì˜ generateContent API êµ¬ì¡° ì°¨ì´
- **ì‘ë‹µ í˜•ì‹**: ì„œë¡œ ë‹¤ë¥¸ JSON êµ¬ì¡°ì— ëŒ€í•œ íŒŒì‹± ë¡œì§ ë³€ê²½ í•„ìš”
- **í•œêµ­ì–´ ì²˜ë¦¬**: Geminiì˜ í•œêµ­ì–´ ìš”ì•½ ì„±ëŠ¥ ìµœì í™”

### ë§ˆì´ê·¸ë ˆì´ì…˜ êµ¬í˜„ ê³¼ì •

#### 1. ê¸°ì¡´ OpenAI ì„œë¹„ìŠ¤ êµ¬ì¡° ë¶„ì„

ê¸°ì¡´ OpenAI ê¸°ë°˜ ìš”ì•½ ì„œë¹„ìŠ¤ëŠ” ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ë¡œ êµ¬í˜„ë˜ì–´ ìˆì—ˆìŠµë‹ˆë‹¤:

```java
@Service
public class SummaryServiceImpl implements SummaryService {
    @Value("${openai.api.key}")
    private String openaiApiKey;

    private String generateSummaryWithOpenAI(String text) {
        // OpenAI Chat Completions API í˜¸ì¶œ
        MessageDto message = new MessageDto("user", prompt);
        OpenAiChatRequest requestBody = new OpenAiChatRequest(openaiModel,
            Collections.singletonList(message));

        ResponseEntity<OpenAiChatResponse> response =
            restTemplate.postForEntity(openaiApiUrl, entity, OpenAiChatResponse.class);

        return response.getBody().getChoices().get(0).getMessage().getContent();
    }
}
```

#### 2. Gemini API ì„œë¹„ìŠ¤ ì‹ ê·œ êµ¬í˜„

Gemini APIë¥¼ í™œìš©í•œ ìƒˆë¡œìš´ ìš”ì•½ ì„œë¹„ìŠ¤ë¥¼ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤:

```java
@Service
@Primary  // OpenAI ì„œë¹„ìŠ¤ ëŒ€ì‹  ìš°ì„  ì‚¬ìš©
@RequiredArgsConstructor
public class GeminiSummaryService implements SummaryService {

    @Value("${gemini.api.key}")
    private String geminiApiKey;

    @Value("${gemini.api.url}")
    private String geminiApiUrl;

    private String generateSummaryWithGemini(String text) {
        String prompt = "ë‹¤ìŒ ë‰´ìŠ¤ ê¸°ì‚¬ë¥¼ í•œêµ­ì–´ë¡œ 3ë¬¸ì¥ ì´ë‚´ë¡œ ìš”ì•½í•´ì£¼ì„¸ìš”:\\n\\n" + text;

        GeminiRequest requestBody = new GeminiRequest(prompt);
        String urlWithKey = geminiApiUrl + "?key=" + geminiApiKey;

        ResponseEntity<GeminiResponse> response =
            restTemplate.postForEntity(urlWithKey, entity, GeminiResponse.class);

        return response.getBody().getCandidates().get(0)
            .getContent().getParts().get(0).getText();
    }
}
```

#### 3. API êµ¬ì¡° ì°¨ì´ì  ë° ëŒ€ì‘

| êµ¬ë¶„ | OpenAI | Gemini |
|------|--------|--------|
| **ì¸ì¦ ë°©ì‹** | Bearer Token (í—¤ë”) | API Key (URL íŒŒë¼ë¯¸í„°) |
| **ìš”ì²­ êµ¬ì¡°** | `{messages: [...]}` | `{contents: [...]}` |
| **ì‘ë‹µ êµ¬ì¡°** | `choices[0].message.content` | `candidates[0].content.parts[0].text` |
| **í•œêµ­ì–´ ì²˜ë¦¬** | ë²”ìš© ëª¨ë¸ | ë‹¤êµ­ì–´ íŠ¹í™” |

#### 4. ì„¤ì • íŒŒì¼ ì—…ë°ì´íŠ¸

`application.properties`ì— Gemini API ì„¤ì •ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤:

```properties
# Gemini API Configuration
gemini.api.key=AIzaSyBuAEmWZUSKiRIhUE6EnjKQzOs67v_pHME
gemini.api.url=https://generativelanguage.googleapis.com/v1/models/gemini-1.5-flash:generateContent
```

### ë§ˆì´ê·¸ë ˆì´ì…˜ ê²°ê³¼

1. **ë¹„ìš© ì ˆê°**: ë¬´ë£Œ API ì‚¬ìš©ìœ¼ë¡œ í”„ë¡œì íŠ¸ ìš´ì˜ë¹„ 0ì›
2. **ì„±ëŠ¥ ìœ ì§€**: 3ë¬¸ì¥ ì´ë‚´ í•œêµ­ì–´ ìš”ì•½ í’ˆì§ˆ ë™ë“± ìˆ˜ì¤€
3. **í™•ì¥ì„±**: í–¥í›„ ëŒ€ìš©ëŸ‰ ì²˜ë¦¬ ì‹œì—ë„ ë¹„ìš© ë¶€ë‹´ ì—†ìŒ
4. **í˜¸í™˜ì„±**: ê¸°ì¡´ SummaryService ì¸í„°í˜ì´ìŠ¤ ìœ ì§€ë¡œ ë‹¤ë¥¸ ì½”ë“œ ë³€ê²½ ìµœì†Œí™”

**Gemini API ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ëµì  ê³ ë ¤ì‚¬í•­:**

Gemini APIë¡œì˜ ë§ˆì´ê·¸ë ˆì´ì…˜ì€ ë‹¨ìˆœí•œ ë¹„ìš© ì ˆê°ì„ ë„˜ì–´ì„œ ì„œë¹„ìŠ¤ì˜ ì§€ì†ê°€ëŠ¥ì„±ì„ í¬ê²Œ í–¥ìƒì‹œì¼°ìŠµë‹ˆë‹¤. @Primary ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ì—¬ GeminiSummaryServiceê°€ ê¸°ì¡´ OpenAI ì„œë¹„ìŠ¤ë³´ë‹¤ ìš°ì„  ì£¼ì…ë˜ë„ë¡ ì„¤ì •í•œ ì´ìœ ëŠ” ì ì§„ì  ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ì§€ì›í•˜ê¸° ìœ„í•´ì„œì…ë‹ˆë‹¤. ë§Œì•½ Gemini APIì— ë¬¸ì œê°€ ë°œìƒí•  ê²½ìš° @Primary ì–´ë…¸í…Œì´ì…˜ë§Œ ì œê±°í•˜ë©´ ì¦ì‹œ OpenAIë¡œ í´ë°±í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.

Gemini APIì˜ ìš”ì²­ êµ¬ì¡°ì—ì„œ URL íŒŒë¼ë¯¸í„°ë¡œ API í‚¤ë¥¼ ì „ì†¡í•˜ëŠ” ë°©ì‹ì„ ì±„íƒí•œ ì´ìœ ëŠ” Googleì˜ API ì„¤ê³„ ì² í•™ì— ë”°ë¥¸ ê²ƒì…ë‹ˆë‹¤. ì´ ë°©ì‹ì€ CDN ìºì‹±ê³¼ ë¡œë“œë°¸ëŸ°ì‹±ì— ìœ ë¦¬í•˜ë©°, ë˜í•œ ìš”ì²­ í—¤ë”ì—ì„œ ì¸ì¦ ì •ë³´ë¥¼ ì œê±°í•˜ì—¬ ë¡œê·¸ì—ì„œ ë¯¼ê°í•œ API í‚¤ ë…¸ì¶œ ìœ„í—˜ì„ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

í•œêµ­ì–´ ìš”ì•½ í’ˆì§ˆì„ ìµœì í™”í•˜ê¸° ìœ„í•´ í”„ë¡¬í”„íŠ¸ì— "í•œêµ­ì–´ë¡œ 3ë¬¸ì¥ ì´ë‚´ë¡œ ìš”ì•½í•´ì£¼ì„¸ìš”"ë¼ëŠ” ëª…ì‹œì  ì§€ì‹œë¥¼ í¬í•¨í•œ ì´ìœ ëŠ” Geminiê°€ ë‹¤êµ­ì–´ ëª¨ë¸ì´ì§€ë§Œ ì‚¬ìš©ìì˜ ì–¸ì–´ ì„ í˜¸ë„ë¥¼ ëª…í™•íˆ ì•Œë ¤ì£¼ëŠ” ê²ƒì´ ë” ì¼ê´€ëœ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ë˜í•œ 3ë¬¸ì¥ ì´ë‚´ë¼ëŠ” êµ¬ì²´ì  ê¸¸ì´ ì œí•œì„ ë‘ì–´ ëª¨ë°”ì¼ í™˜ê²½ì—ì„œë„ ì½ê¸° ì¢‹ì€ ìš”ì•½ì„ ì œê³µí•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤.

---

## ğŸ”§ ì£¼ìš” ê¸°ëŠ¥ë³„ ì½”ë“œ ë¶„ì„

### 1. ì‚¬ìš©ì ê´€ì‹¬ì‚¬ ê´€ë¦¬ ì‹œìŠ¤í…œ

#### 1.1 ê´€ì‹¬ì‚¬ ì„œë¹„ìŠ¤ êµ¬í˜„

```java
@Service
@RequiredArgsConstructor
@Transactional
public class InterestServiceImpl implements InterestService {

    private final InterestRepository interestRepository;
    private final UserInterestRepository userInterestRepository;
    private final UserRepository userRepository;

    @Override
    public List<InterestResponseDto> getAllInterests() {
        List<Interest> interests = interestRepository.findAll();
        return interests.stream()
                .map(interest -> InterestResponseDto.builder()
                        .id(interest.getId())
                        .name(interest.getName())
                        .build())
                .collect(Collectors.toList());
    }

    @Override
    public void setUserInterests(String username, UserInterestRequestDto requestDto) {
        User user = userRepository.findByUsername(username)
                .orElseThrow(() -> new CustomException("ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."));

        // ê¸°ì¡´ ê´€ì‹¬ì‚¬ ì‚­ì œ
        userInterestRepository.deleteByUser(user);

        // ìƒˆë¡œìš´ ê´€ì‹¬ì‚¬ ì €ì¥
        List<UserInterest> userInterests = requestDto.getInterestIds().stream()
                .map(interestId -> {
                    Interest interest = interestRepository.findById(interestId)
                            .orElseThrow(() -> new CustomException("ê´€ì‹¬ì‚¬ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: " + interestId));

                    return UserInterest.builder()
                            .user(user)
                            .interest(interest)
                            .build();
                })
                .collect(Collectors.toList());

        userInterestRepository.saveAll(userInterests);
    }
}
```

**ì£¼ìš” íŠ¹ì§•:**
- **íŠ¸ëœì­ì…˜ ê´€ë¦¬**: @Transactionalë¡œ ë°ì´í„° ì¼ê´€ì„± ë³´ì¥
- **ê´€ì‹¬ì‚¬ ì—…ë°ì´íŠ¸**: ê¸°ì¡´ ë°ì´í„° ì‚­ì œ í›„ ìƒˆë¡œ ì €ì¥í•˜ëŠ” ë°©ì‹
- **ì˜ˆì™¸ ì²˜ë¦¬**: ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì‚¬ìš©ì/ê´€ì‹¬ì‚¬ì— ëŒ€í•œ ì ì ˆí•œ ì˜ˆì™¸ ì²˜ë¦¬

**ì„¤ê³„ ì˜ë„ ë° êµ¬í˜„ ì´ìœ :**

ì‚¬ìš©ì ê´€ì‹¬ì‚¬ ê´€ë¦¬ ì‹œìŠ¤í…œì€ ê°œì¸í™”ëœ ë‰´ìŠ¤ ì„œë¹„ìŠ¤ì˜ í•µì‹¬ ê¸°ëŠ¥ìœ¼ë¡œ, ì‚¬ìš©ìë³„ ë§ì¶¤í˜• ì»¨í…ì¸  ì œê³µì„ ìœ„í•´ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. @Transactional ì–´ë…¸í…Œì´ì…˜ì„ í´ë˜ìŠ¤ ë ˆë²¨ì— ì ìš©í•œ ì´ìœ ëŠ” ê´€ì‹¬ì‚¬ ì„¤ì • ê³¼ì •ì—ì„œ ê¸°ì¡´ ë°ì´í„° ì‚­ì œì™€ ìƒˆë¡œìš´ ë°ì´í„° ì‚½ì…ì´ ì›ìì ìœ¼ë¡œ ì²˜ë¦¬ë˜ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ë§Œì•½ ì¤‘ê°„ì— ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ ë°ì´í„°ë² ì´ìŠ¤ ì¼ê´€ì„±ì´ ê¹¨ì§ˆ ìˆ˜ ìˆì–´ ì „ì²´ ì‘ì—…ì´ ë¡¤ë°±ë˜ë„ë¡ ë³´ì¥í–ˆìŠµë‹ˆë‹¤.

ê´€ì‹¬ì‚¬ ì—…ë°ì´íŠ¸ ë¡œì§ì—ì„œ ê¸°ì¡´ ë°ì´í„°ë¥¼ ëª¨ë‘ ì‚­ì œí•œ í›„ ìƒˆë¡œ ì €ì¥í•˜ëŠ” "Delete-and-Insert" ë°©ì‹ì„ ì±„íƒí•œ ì´ìœ ëŠ” ë¶€ë¶„ ì—…ë°ì´íŠ¸ì˜ ë³µì¡ì„±ì„ í”¼í•˜ê³  ë°ì´í„° ì¼ê´€ì„±ì„ ë‹¨ìˆœí•˜ê²Œ ë³´ì¥í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤. ì‚¬ìš©ìê°€ ê´€ì‹¬ì‚¬ë¥¼ ë³€ê²½í•  ë•Œë§ˆë‹¤ ì–´ë–¤ í•­ëª©ì´ ì¶”ê°€ë˜ê³  ì‚­ì œë˜ì—ˆëŠ”ì§€ ë¹„êµí•˜ëŠ” ë¡œì§ë³´ë‹¤ëŠ”, ì „ì²´ë¥¼ ìƒˆë¡œ ê°±ì‹ í•˜ëŠ” ê²ƒì´ ì½”ë“œì˜ ê°€ë…ì„±ê³¼ ì•ˆì •ì„± ì¸¡ë©´ì—ì„œ ë” ìœ ë¦¬í•˜ë‹¤ê³  íŒë‹¨í–ˆìŠµë‹ˆë‹¤. Stream APIì™€ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° íŒ¨ëŸ¬ë‹¤ì„ì„ í™œìš©í•˜ì—¬ ì½”ë“œì˜ ê°„ê²°ì„±ê³¼ ê°€ë…ì„±ì„ ë†’ì˜€ê³ , Optionalê³¼ orElseThrowë¥¼ ì‚¬ìš©í•˜ì—¬ ëª…ì‹œì ì¸ ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

#### 1.2 ê´€ì‹¬ì‚¬ ì»¨íŠ¸ë¡¤ëŸ¬

```java
@RestController
@RequestMapping("/api")
@RequiredArgsConstructor
public class InterestController {

    private final InterestService interestService;

    @GetMapping("/interests")
    public ResponseEntity<List<InterestResponseDto>> getAllInterests() {
        List<InterestResponseDto> interests = interestService.getAllInterests();
        return ResponseEntity.ok(interests);
    }

    @PostMapping("/user/interests")
    public ResponseEntity<String> setUserInterests(
            Authentication authentication,
            @RequestBody UserInterestRequestDto requestDto) {

        String username = authentication.getName();
        interestService.setUserInterests(username, requestDto);
        return ResponseEntity.ok("ê´€ì‹¬ì‚¬ ì„¤ì •ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.");
    }
}
```

**ì„¤ê³„ íŠ¹ì§•:**
- **ì¸ì¦ ì—°ë™**: Authentication ê°ì²´ë¡œ í˜„ì¬ ì‚¬ìš©ì ì •ë³´ ì¶”ì¶œ
- **RESTful ì„¤ê³„**: HTTP ë©”ì†Œë“œì™€ ìƒíƒœ ì½”ë“œ í‘œì¤€ ì¤€ìˆ˜
- **ëª…í™•í•œ ì‘ë‹µ**: ì„±ê³µ/ì‹¤íŒ¨ì— ëŒ€í•œ ëª…í™•í•œ ë©”ì‹œì§€ ì œê³µ

**ì•„í‚¤í…ì²˜ ì„¤ê³„ ë°°ê²½:**

ê´€ì‹¬ì‚¬ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” RESTful API ì„¤ê³„ ì›ì¹™ì„ ì—„ê²©íˆ ì¤€ìˆ˜í•˜ì—¬ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤. Authentication ê°ì²´ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì•„ í˜„ì¬ ì¸ì¦ëœ ì‚¬ìš©ì ì •ë³´ë¥¼ ì¶”ì¶œí•˜ëŠ” ë°©ì‹ì„ ì±„íƒí•œ ì´ìœ ëŠ” Spring Securityì™€ì˜ ì™„ë²½í•œ í†µí•©ì„ ìœ„í•´ì„œì…ë‹ˆë‹¤. ì´ ë°©ì‹ì€ í† í°ì—ì„œ ì‚¬ìš©ì ì •ë³´ë¥¼ ë³„ë„ë¡œ íŒŒì‹±í•  í•„ìš” ì—†ì´ Spring Securityê°€ ì œê³µí•˜ëŠ” í‘œì¤€ ì¸ì¦ ë©”ì»¤ë‹ˆì¦˜ì„ í™œìš©í•  ìˆ˜ ìˆì–´ ë³´ì•ˆì„±ê³¼ ì¼ê´€ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.

GET /api/interestsì™€ POST /api/user/interestsë¡œ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ë¶„ë¦¬í•œ ì´ìœ ëŠ” ì „ì²´ ê´€ì‹¬ì‚¬ ëª©ë¡ ì¡°íšŒì™€ ê°œë³„ ì‚¬ìš©ìì˜ ê´€ì‹¬ì‚¬ ì„¤ì •ì´ë¼ëŠ” ì„œë¡œ ë‹¤ë¥¸ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ëª…í™•íˆ êµ¬ë¶„í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤. íŠ¹íˆ ì‚¬ìš©ìë³„ ê´€ì‹¬ì‚¬ ì„¤ì •ì€ /api/user í•˜ìœ„ ê²½ë¡œë¡œ ë°°ì¹˜í•˜ì—¬ ì‚¬ìš©ì ê´€ë ¨ ë¦¬ì†ŒìŠ¤ì„ì„ ëª…ì‹œì ìœ¼ë¡œ í‘œí˜„í–ˆìŠµë‹ˆë‹¤. ResponseEntityë¥¼ ì‚¬ìš©í•˜ì—¬ HTTP ìƒíƒœ ì½”ë“œì™€ ì‘ë‹µ ë©”ì‹œì§€ë¥¼ ëª…í™•íˆ ì œì–´í•¨ìœ¼ë¡œì¨ í´ë¼ì´ì–¸íŠ¸ê°€ API í˜¸ì¶œ ê²°ê³¼ë¥¼ ì •í™•íˆ íŒë‹¨í•  ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤.

### 2. JWT ê¸°ë°˜ ì¸ì¦ ì‹œìŠ¤í…œ

#### 2.1 JWT ì¸ì¦ í•„í„°

```java
@Component
@RequiredArgsConstructor
@Slf4j
public class JwtAuthenticationFilter extends OncePerRequestFilter {

    private final JwtUtil jwtUtil;
    private final UserDetailsService userDetailsService;

    @Override
    protected void doFilterInternal(HttpServletRequest request,
                                  HttpServletResponse response,
                                  FilterChain filterChain) throws ServletException, IOException {

        String authHeader = request.getHeader("Authorization");

        if (authHeader != null && authHeader.startsWith("Bearer ")) {
            String jwt = authHeader.substring(7);

            try {
                String username = jwtUtil.extractUsername(jwt);

                if (username != null && SecurityContextHolder.getContext().getAuthentication() == null) {
                    UserDetails userDetails = userDetailsService.loadUserByUsername(username);

                    if (jwtUtil.isTokenValid(jwt, userDetails)) {
                        UsernamePasswordAuthenticationToken authToken =
                            new UsernamePasswordAuthenticationToken(
                                userDetails, null, userDetails.getAuthorities());

                        authToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));
                        SecurityContextHolder.getContext().setAuthentication(authToken);

                        log.debug("JWT ì¸ì¦ ì„±ê³µ - User: {}", username);
                    }
                }
            } catch (Exception e) {
                log.warn("JWT í† í° ì²˜ë¦¬ ì‹¤íŒ¨: {}", e.getMessage());
            }
        }

        filterChain.doFilter(request, response);
    }
}
```

**ë³´ì•ˆ íŠ¹ì§•:**
- **Once Per Request**: ì¤‘ë³µ ì‹¤í–‰ ë°©ì§€
- **Bearer Token**: í‘œì¤€ ì¸ì¦ í—¤ë” í˜•ì‹ ì§€ì›
- **ì˜ˆì™¸ ì²˜ë¦¬**: ì˜ëª»ëœ í† í°ìœ¼ë¡œ ì¸í•œ ì„œë²„ ì˜¤ë¥˜ ë°©ì§€
- **SecurityContext**: Spring Securityì™€ ì™„ì „ í†µí•©

**JWT í•„í„° ì„¤ê³„ ì² í•™:**

JWT ì¸ì¦ í•„í„°ëŠ” OncePerRequestFilterë¥¼ ìƒì†ë°›ì•„ êµ¬í˜„í•˜ì—¬ ë™ì¼í•œ ìš”ì²­ì— ëŒ€í•´ í•œ ë²ˆë§Œ ì‹¤í–‰ë˜ë„ë¡ ë³´ì¥í–ˆìŠµë‹ˆë‹¤. ì´ëŠ” í•„í„° ì²´ì¸ì—ì„œ ì¤‘ë³µ ì¸ì¦ ì²˜ë¦¬ë¡œ ì¸í•œ ì„±ëŠ¥ ì €í•˜ë¥¼ ë°©ì§€í•˜ê³  ë°ì´í„°ë² ì´ìŠ¤ ë¶€í•˜ë¥¼ ìµœì†Œí™”í•˜ê¸° ìœ„í•´ì„œì…ë‹ˆë‹¤.

Bearer Token ë°©ì‹ì„ ì±„íƒí•œ ì´ìœ ëŠ” OAuth 2.0 í‘œì¤€ì„ ë”°ë¥´ë©°, Authorization í—¤ë”ì— "Bearer " ì ‘ë‘ì‚¬ë¥¼ ë¶™ì´ëŠ” ê²ƒì´ JWT í† í° ì „ì†¡ì˜ ì—…ê³„ í‘œì¤€ì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ë‹¤ì–‘í•œ í´ë¼ì´ì–¸íŠ¸(ë¸Œë¼ìš°ì €, ëª¨ë°”ì¼ ì•± ë“±)ì™€ì˜ í˜¸í™˜ì„±ì„ ë³´ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ ìœ„í•´ try-catch ë¸”ë¡ì„ ì‚¬ìš©í•˜ê³  ì˜¤ë¥˜ ë¡œê·¸ë§Œ ìƒì„±í•œ í›„ ìš”ì²­ì„ ê³„ì† ì§„í–‰í•˜ë„ë¡ í•œ ì´ìœ ëŠ”, ì˜ëª»ëœ JWT í† í°ì´ ì „ì²´ ì‹œìŠ¤í…œì„ ë§ˆë¹„ì‹œí‚¤ì§€ ì•Šë„ë¡ í•˜ê¸° ìœ„í•´ì„œì…ë‹ˆë‹¤. ê³µê²©ìê°€ ì˜ë„ì ìœ¼ë¡œ ë¹„ì •ìƒì ì¸ í† í°ì„ ë³´ë‚´ë”ë¼ë„ ì„œë¹„ìŠ¤ê°€ ì¤‘ë‹¨ë˜ì§€ ì•Šê³  ì¸ì¦ë˜ì§€ ì•Šì€ ìš”ì²­ìœ¼ë¡œ ì²˜ë¦¬í•˜ì—¬ ë³´ì•ˆì„±ì„ ìœ ì§€í•©ë‹ˆë‹¤.

#### 2.2 JWT ìœ í‹¸ë¦¬í‹°

```java
@Component
public class JwtUtil {

    @Value("${app.jwt.secret}")
    private String secretKey;

    @Value("${app.jwt.expiration}")
    private long jwtExpiration;

    public String generateToken(UserDetails userDetails) {
        Map<String, Object> claims = new HashMap<>();
        return createToken(claims, userDetails.getUsername());
    }

    private String createToken(Map<String, Object> claims, String subject) {
        return Jwts.builder()
                .setClaims(claims)
                .setSubject(subject)
                .setIssuedAt(new Date(System.currentTimeMillis()))
                .setExpiration(new Date(System.currentTimeMillis() + jwtExpiration))
                .signWith(SignatureAlgorithm.HS512, secretKey)
                .compact();
    }

    public Boolean isTokenValid(String token, UserDetails userDetails) {
        final String username = extractUsername(token);
        return (username.equals(userDetails.getUsername()) && !isTokenExpired(token));
    }

    public String extractUsername(String token) {
        return extractClaim(token, Claims::getSubject);
    }

    private Boolean isTokenExpired(String token) {
        return extractExpiration(token).before(new Date());
    }
}
```

**ë³´ì•ˆ ê°•í™”:**
- **HS512 ì•”í˜¸í™”**: ê°•ë ¥í•œ ì„œëª… ì•Œê³ ë¦¬ì¦˜ ì‚¬ìš©
- **ë§Œë£Œ ì‹œê°„ ê´€ë¦¬**: ì„¤ì • ê°€ëŠ¥í•œ í† í° ìœ íš¨ ê¸°ê°„
- **í´ë ˆì„ ì¶”ì¶œ**: ì•ˆì „í•œ í† í° ì •ë³´ íŒŒì‹±
- **ìœ íš¨ì„± ê²€ì¦**: ì‚¬ìš©ìëª…ê³¼ ë§Œë£Œ ì‹œê°„ ë™ì‹œ í™•ì¸

**JWT ìœ í‹¸ë¦¬í‹° ì„¤ê³„ ë°°ê²½:**

JWT ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ëŠ” í† í°ì˜ ìƒì„±, ê²€ì¦, ì •ë³´ ì¶”ì¶œì„ ë‹´ë‹¹í•˜ëŠ” í•µì‹¬ ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤. HS512(HMAC-SHA512) ì•Œê³ ë¦¬ì¦˜ì„ ì„ íƒí•œ ì´ìœ ëŠ” ëŒ€ì¹­í‚¤ ì•”í˜¸í™” ë°©ì‹ ì¤‘ì—ì„œë„ ê°€ì¥ ê°•ë ¥í•œ ë³´ì•ˆì„±ì„ ì œê³µí•˜ë©´ì„œë„ ì„±ëŠ¥ì´ ìš°ìˆ˜í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. RSA ê°™ì€ ë¹„ëŒ€ì¹­í‚¤ ì•Œê³ ë¦¬ì¦˜ì— ë¹„í•´ ì „ìì„œëª… ìƒì„±ê³¼ ê²€ì¦ ì†ë„ê°€ ë¹ ë¥´ê³ , ë‹¨ì¼ ì„œë²„ í™˜ê²½ì—ì„œëŠ” ë¹„ë°€í‚¤ ê´€ë¦¬ê°€ ë” ê°„ë‹¨í•˜ë‹¤ëŠ” ì¥ì ì´ ìˆìŠµë‹ˆë‹¤.

í† í° ìœ íš¨ì„± ê²€ì¦ì—ì„œ ì‚¬ìš©ìëª… ì¼ì¹˜ ì—¬ë¶€ì™€ ë§Œë£Œ ì‹œê°„ì„ ë™ì‹œì— í™•ì¸í•˜ëŠ” ì´ì¤‘ ê²€ì¦ ë¡œì§ì„ êµ¬í˜„í•œ ì´ìœ ëŠ” í† í° í•˜ì´ì¬í‚¹ ê³µê²©ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œì…ë‹ˆë‹¤. ë§Œë£Œëœ í† í°ì´ë‚˜ ë‹¤ë¥¸ ì‚¬ìš©ìì˜ í† í°ì„ ì‚¬ìš©í•˜ì—¬ ë¶€ì • ì ‘ê·¼ì„ ì‹œë„í•˜ëŠ” ê²½ìš°ë¥¼ ì°¨ë‹¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ @Value ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ application.propertiesì—ì„œ ë¹„ë°€í‚¤ì™€ ë§Œë£Œ ì‹œê°„ì„ ì£¼ì…ë°›ë„ë¡ í•˜ì—¬ êµ¬ì„± ë³€ê²½ ì‹œ ì½”ë“œ ìˆ˜ì • ì—†ì´ ìœ ì—°í•˜ê²Œ ëŒ€ì‘í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.

### 3. Spring Security ì„¤ì •

#### 3.1 ë³´ì•ˆ ì„¤ì • í´ë˜ìŠ¤

```java
@Configuration
@EnableWebSecurity
@RequiredArgsConstructor
public class SecurityConfig {

    private final JwtAuthenticationFilter jwtAuthenticationFilter;

    @Bean
    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {
        http
            .csrf(csrf -> csrf.disable())
            .cors(cors -> cors.configurationSource(corsConfigurationSource()))
            .sessionManagement(session ->
                session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))
            .authorizeHttpRequests(auth -> auth
                .requestMatchers("/api/signup", "/api/login",
                    "/api/auth/check-username", "/api/test/**").permitAll()
                .anyRequest().authenticated()
            )
            .addFilterBefore(jwtAuthenticationFilter,
                UsernamePasswordAuthenticationFilter.class);

        return http.build();
    }

    @Bean
    public CorsConfigurationSource corsConfigurationSource() {
        CorsConfiguration configuration = new CorsConfiguration();
        configuration.setAllowedOrigins(Arrays.asList(
            "http://localhost:5173",
            "http://localhost:5174",
            "http://localhost:5175",
            "https://newstailor.pages.dev"
        ));
        configuration.setAllowedMethods(Arrays.asList(
            "GET", "POST", "PUT", "DELETE", "OPTIONS", "PATCH"));
        configuration.setAllowedHeaders(Arrays.asList("*"));
        configuration.setAllowCredentials(true);
        configuration.setExposedHeaders(Arrays.asList("Authorization"));

        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();
        source.registerCorsConfiguration("/**", configuration);
        return source;
    }
}
```

**ì„¤ì • íŠ¹ì§•:**
- **STATELESS**: JWT ê¸°ë°˜ì´ë¯€ë¡œ ì„¸ì…˜ ì‚¬ìš© ì•ˆí•¨
- **CORS ì„¤ì •**: ë‹¤ì¤‘ í”„ë¡ íŠ¸ì—”ë“œ ë„ë©”ì¸ ì§€ì›
- **ê²½ë¡œë³„ ê¶Œí•œ**: ì¸ì¦ì´ í•„ìš”í•œ APIì™€ ê³µê°œ API êµ¬ë¶„
- **í•„í„° ì²´ì¸**: JWT í•„í„°ë¥¼ ì¸ì¦ í•„í„° ì•ì— ë°°ì¹˜

**Spring Security ì•„í‚¤í…ì²˜ ì„¤ê³„ ì˜ë„:**

Spring Security ì„¤ì •ì—ì„œ SessionCreationPolicy.STATELESSë¥¼ ì„ íƒí•œ ì´ìœ ëŠ” JWT ê¸°ë°˜ ì¸ì¦ì˜ ë³¸ì§ˆì  íŠ¹ì„±ì— ë”°ë¥¸ ê²ƒì…ë‹ˆë‹¤. ê¸°ì¡´ì˜ ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦ì€ ì„œë²„ì— ì‚¬ìš©ì ìƒíƒœë¥¼ ì €ì¥í•˜ì—¬ ìˆ˜í‰ í™•ì¥ ì‹œ ì„¸ì…˜ ë™ê¸°í™” ë¬¸ì œê°€ ë°œìƒí•˜ì§€ë§Œ, JWTëŠ” í† í° ìì²´ì— ëª¨ë“  ì¸ì¦ ì •ë³´ê°€ í¬í•¨ë˜ì–´ ì„œë²„ê°€ ë¬´ìƒíƒœë¡œ ë™ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

CORS ì„¤ì •ì—ì„œ ì—¬ëŸ¬ ë¡œì»¬ ê°œë°œ í¬íŠ¸(5173, 5174, 5175)ì™€ í”„ë¡œë•ì…˜ ë„ë©”ì¸(newstailor.pages.dev)ì„ ëª¨ë‘ í—ˆìš©í•œ ì´ìœ ëŠ” ê°œë°œ ë‹¨ê³„ì—ì„œì˜ ìœ ì—°ì„±ê³¼ ë°°í¬ í›„ ìš´ì˜ í™˜ê²½ì„ ëª¨ë‘ ê³ ë ¤í•˜ê¸° ìœ„í•´ì„œì…ë‹ˆë‹¤. íŠ¹íˆ setAllowCredentials(true)ë¥¼ ì„¤ì •í•˜ì—¬ ì¸ì¦ í—¤ë”ë¥¼ í¬í•¨í•œ ìš”ì²­ì„ í—ˆìš©í•¨ìœ¼ë¡œì¨ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ JWT í† í°ì„ ì•ˆì „í•˜ê²Œ ì „ì†¡í•  ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤.

í•„í„° ì²´ì¸ì—ì„œ JwtAuthenticationFilterë¥¼ UsernamePasswordAuthenticationFilter ì•ì— ë°°ì¹˜í•œ ì´ìœ ëŠ” JWT í† í° ê²€ì¦ì´ ìš°ì„ ì ìœ¼ë¡œ ì´ë£¨ì–´ì§€ë„ë¡ í•˜ê¸° ìœ„í•´ì„œì…ë‹ˆë‹¤. ë§Œì•½ ìœ íš¨í•œ JWT í† í°ì´ ì¡´ì¬í•œë‹¤ë©´ ê¸°ë³¸ ì¸ì¦ ê³¼ì •ì„ ê±°ì¹  í•„ìš” ì—†ì´ ì‚¬ìš©ìë¥¼ ì¸ì¦í•˜ê³ , ì—†ë‹¤ë©´ ì¼ë°˜ì ì¸ ì¸ì¦ í”„ë¡œì„¸ìŠ¤ë¡œ ë„˜ì–´ê°€ë„ë¡ í•˜ì—¬ ì¸ì¦ ì²˜ë¦¬ì˜ íš¨ìœ¨ì„±ì„ ë†’ì˜€ìŠµë‹ˆë‹¤.

### 4. ë‰´ìŠ¤ ì„œë¹„ìŠ¤ ë° API ì»¨íŠ¸ë¡¤ëŸ¬

#### 4.1 ë‰´ìŠ¤ ì„œë¹„ìŠ¤ êµ¬í˜„

```java
@Service
@RequiredArgsConstructor
@Transactional(readOnly = true)
public class NewsServiceImpl implements NewsService {

    private final NewsRepository newsRepository;
    private final UserRepository userRepository;
    private final UserInterestRepository userInterestRepository;

    @Override
    public Page<NewsBriefResponseDto> getPersonalizedNews(String username, Pageable pageable) {
        User user = userRepository.findByUsername(username)
                .orElseThrow(() -> new CustomException("ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."));

        // ì‚¬ìš©ì ê´€ì‹¬ì‚¬ ì¡°íšŒ
        List<UserInterest> userInterests = userInterestRepository.findByUser(user);
        List<String> interestCategories = userInterests.stream()
                .map(userInterest -> userInterest.getInterest().getName())
                .collect(Collectors.toList());

        // ê´€ì‹¬ì‚¬ ê¸°ë°˜ ë‰´ìŠ¤ ì¡°íšŒ
        Page<News> newsPage;
        if (interestCategories.isEmpty()) {
            newsPage = newsRepository.findAllByOrderByPublishedAtDesc(pageable);
        } else {
            newsPage = newsRepository.findByCategoryInOrderByPublishedAtDesc(
                    interestCategories, pageable);
        }

        return newsPage.map(this::convertToBriefDto);
    }

    @Override
    public NewsDetailResponseDto getNewsDetail(Long newsId, String username) {
        News news = newsRepository.findById(newsId)
                .orElseThrow(() -> new CustomException("ë‰´ìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: " + newsId));

        User user = userRepository.findByUsername(username)
                .orElseThrow(() -> new CustomException("ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."));

        // ì¢‹ì•„ìš”/ë¶ë§ˆí¬ ìƒíƒœ í™•ì¸
        boolean isLiked = news.getLikes().stream()
                .anyMatch(like -> like.getUser().equals(user));
        boolean isBookmarked = news.getBookmarks().stream()
                .anyMatch(bookmark -> bookmark.getUser().equals(user));

        return NewsDetailResponseDto.builder()
                .id(news.getId())
                .title(news.getTitle())
                .content(news.getContent())
                .category(news.getCategory())
                .publishedAt(news.getPublishedAt())
                .summaryContent(news.getSummary() != null ?
                    news.getSummary().getSummary_text() : null)
                .isLiked(isLiked)
                .isBookmarked(isBookmarked)
                .likeCount(news.getLikes().size())
                .build();
    }

    private NewsBriefResponseDto convertToBriefDto(News news) {
        return NewsBriefResponseDto.builder()
                .id(news.getId())
                .title(news.getTitle())
                .category(news.getCategory())
                .publishedAt(news.getPublishedAt())
                .build();
    }
}
```

**ì„œë¹„ìŠ¤ íŠ¹ì§•:**
- **ê°œì¸í™”**: ì‚¬ìš©ì ê´€ì‹¬ì‚¬ ê¸°ë°˜ ë‰´ìŠ¤ í•„í„°ë§
- **ì„±ëŠ¥ ìµœì í™”**: @Transactional(readOnly = true)ë¡œ ì½ê¸° ì „ìš© ìµœì í™”
- **ê´€ê³„ ë§¤í•‘**: ì¢‹ì•„ìš”/ë¶ë§ˆí¬ ìƒíƒœë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ í™•ì¸

**ê°œì¸í™” ë‰´ìŠ¤ ì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ ì„¤ê³„:**

ë‰´ìŠ¤ ì„œë¹„ìŠ¤ì˜ ê°œì¸í™” ë¡œì§ì€ ì‚¬ìš©ìì˜ ê´€ì‹¬ì‚¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë‰´ìŠ¤ë¥¼ í•„í„°ë§í•˜ëŠ” ê³¾ ë‹¨ë‹¨í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì…ë‹ˆë‹¤. @Transactional(readOnly = true)ë¥¼ í´ë˜ìŠ¤ ë ˆë²¨ì— ì ìš©í•œ ì´ìœ ëŠ” ë‰´ìŠ¤ ì¡°íšŒ ì—…ë¬´ëŠ” ë°ì´í„° ë³€ê²½ì´ ì—†ëŠ” ì½ê¸° ì „ìš© ì‘ì—…ì´ê¸° ë•Œë¬¸ì— ë°ì´í„°ë² ì´ìŠ¤ ì—”ì§„ì—ì„œ ì½ê¸° ìµœì í™”ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•´ì„œì…ë‹ˆë‹¤. ì´ëŠ” ë”í‹° ë¦¬ë“œ ë°©ì§€, ìŠ¤ëƒ…ìƒ· ê²©ë¦¬ ë“±ì˜ íš¨ê³¼ë¥¼ ê°€ì ¸ì™€ ëŒ€ëŸ‰ì˜ ë™ì‹œ ì ‘ì†ì—ë„ ì•ˆì •ì ì¸ ì„±ëŠ¥ì„ ë³´ì¥í•©ë‹ˆë‹¤.

ê°œì¸í™” ë‰´ìŠ¤ ì¡°íšŒ ë©”ì†Œë“œì—ì„œ ì‚¬ìš©ì ê´€ì‹¬ì‚¬ê°€ ë¹„ì–´ìˆì„ ê²½ìš° ì „ì²´ ë‰´ìŠ¤ë¥¼ ë°˜í™˜í•˜ë„ë¡ í•œ ì´ìœ ëŠ” ì‹ ê·œ ì‚¬ìš©ìë‚˜ ê´€ì‹¬ì‚¬ë¥¼ ì„¤ì •í•˜ì§€ ì•Šì€ ì‚¬ìš©ìì—ê²Œë„ ê¸°ë³¸ì ì¸ ë‰´ìŠ¤ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ê¸° ìœ„í•´ì„œì…ë‹ˆë‹¤. ì´ëŸ¬í•œ ì˜ˆë¹„ì²´ê³„(fallback) ì „ëµì€ ì‚¬ìš©ì ê²½í—˜ì„ í•´ì¹˜ì§€ ì•Šìœ¼ë©´ì„œë„ ì ì§„ì ìœ¼ë¡œ ê°œì¸í™” ì„œë¹„ìŠ¤ë¡œ ì´ëŒ ìˆ˜ ìˆëŠ” ì „ëµì…ë‹ˆë‹¤.

Page ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ í˜ì´ì§€ë„¤ì´ì…˜ì„ ì§€ì›í•œ ì´ìœ ëŠ” ë‰´ìŠ¤ ë°ì´í„°ì˜ ì–‘ì´ ë§¤ìš° ë§ê¸° ë•Œë¬¸ì— í•œ ë²ˆì— ëª¨ë“  ë°ì´í„°ë¥¼ ë¡œë“œí•˜ë©´ ë©”ëª¨ë¦¬ ë¶€ì¡±ê³¼ ë„¤íŠ¸ì›Œí¬ ì§€ì—°ì´ ë°œìƒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. Spring Dataì˜ Pageable ì¸í„°í˜ì´ìŠ¤ë¥¼ í™œìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ ë ˆë²¨ì—ì„œ íš¨ìœ¨ì ì¸ LIMIT/OFFSET ì¿¼ë¦¬ë¥¼ ìƒì„±í•˜ê³ , í´ë¼ì´ì–¸íŠ¸ì—ê²ŒëŠ” ì „ì²´ í˜ì´ì§€ ìˆ˜, í˜„ì¬ í˜ì´ì§€, ì „ì²´ ìš”ì†Œ ìˆ˜ ë“±ì˜ ë©”íƒ€ë°ì´í„°ë¥¼ í•¨ê»˜ ì œê³µí•˜ì—¬ ì™„ì „í•œ í˜ì´ì§€ë„¤ì´ì…˜ ê¸°ëŠ¥ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

#### 4.2 ë‰´ìŠ¤ REST API ì»¨íŠ¸ë¡¤ëŸ¬

```java
@RestController
@RequestMapping("/api/news")
@RequiredArgsConstructor
@Slf4j
public class NewsController {

    private final NewsService newsService;

    @GetMapping
    public ResponseEntity<Page<NewsBriefResponseDto>> getPersonalizedNews(
            Authentication authentication,
            @PageableDefault(size = 10) Pageable pageable) {

        String username = authentication.getName();
        Page<NewsBriefResponseDto> newsPage =
            newsService.getPersonalizedNews(username, pageable);

        log.info("ê°œì¸í™” ë‰´ìŠ¤ ì¡°íšŒ ì™„ë£Œ - User: {}, Count: {}",
            username, newsPage.getContent().size());

        return ResponseEntity.ok(newsPage);
    }

    @GetMapping("/{id}")
    public ResponseEntity<NewsDetailResponseDto> getNewsDetail(
            @PathVariable Long id,
            Authentication authentication) {

        String username = authentication.getName();
        NewsDetailResponseDto newsDetail = newsService.getNewsDetail(id, username);

        log.info("ë‰´ìŠ¤ ìƒì„¸ ì¡°íšŒ ì™„ë£Œ - User: {}, News ID: {}", username, id);
        return ResponseEntity.ok(newsDetail);
    }

    @PostMapping("/{id}/like")
    public ResponseEntity<String> likeNews(
            @PathVariable Long id,
            Authentication authentication) {

        String username = authentication.getName();
        newsService.likeNews(id, username);
        return ResponseEntity.ok("ì¢‹ì•„ìš”ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.");
    }

    @DeleteMapping("/{id}/like")
    public ResponseEntity<String> unlikeNews(
            @PathVariable Long id,
            Authentication authentication) {

        String username = authentication.getName();
        newsService.unlikeNews(id, username);
        return ResponseEntity.ok("ì¢‹ì•„ìš”ê°€ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.");
    }
}
```

**API ì„¤ê³„ ì›ì¹™:**
- **RESTful**: HTTP ë©”ì†Œë“œì™€ ìƒíƒœ ì½”ë“œ í‘œì¤€ ì¤€ìˆ˜
- **ì¸ì¦ í†µí•©**: Authenticationìœ¼ë¡œ ì‚¬ìš©ì ì •ë³´ ìë™ ì¶”ì¶œ
- **í˜ì´ì§• ì§€ì›**: Spring Dataì˜ Pageable í™œìš©
- **ëª…í™•í•œ ì‘ë‹µ**: ê° ì•¡ì…˜ì— ëŒ€í•œ ëª…í™•í•œ í”¼ë“œë°± ì œê³µ

**RESTful API ì„¤ê³„ ì² í•™:**

ë‰´ìŠ¤ API ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” REST ì•„í‚¤í…ì²˜ì˜ ì›ì¹™ì„ ì² ì €íˆ ë”°ë¼ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. /api/newsë¼ëŠ” ê¸°ë³¸ ê²½ë¡œì—ì„œ GET ë©”ì†Œë“œëŠ” ë‰´ìŠ¤ ëª©ë¡ ì¡°íšŒ, GET /api/news/{id}ëŠ” íŠ¹ì • ë‰´ìŠ¤ ìƒì„¸ ì¡°íšŒ, POST /api/news/{id}/likeì™€ DELETE /api/news/{id}/likeëŠ” ì¢‹ì•„ìš” ì¶”ê°€/ì œê±°ë¡œ ë¦¬ì†ŒìŠ¤ì™€ ì•¡ì…˜ì„ ì§ê´€ì ìœ¼ë¡œ ë§¤í•‘í–ˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ì„¤ê³„ëŠ” APIì˜ ê°€ë…ì„±ê³¼ ì˜ˆì¸¡ ê°€ëŠ¥ì„±ì„ í¬ê²Œ í–¥ìƒì‹œì¼œ í´ë¼ì´ì–¸íŠ¸ ê°œë°œìë“¤ì´ ì‰½ê²Œ ì´í•´í•˜ê³  ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

@PageableDefault(size = 10) ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•œ ì´ìœ ëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ í˜ì´ì§€ í¬ê¸°ë¥¼ ëª…ì‹œí•˜ì§€ ì•Šì„ ê²½ìš° ë„ˆë¬´ ë§ì€ ë°ì´í„°ê°€ í•œ ë²ˆì— ë¡œë“œë˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œì…ë‹ˆë‹¤. 10ê°œë¼ëŠ” ê¸°ë³¸ê°’ì€ ëŒ€ë¶€ë¶„ì˜ ëª¨ë°”ì¼ í™”ë©´ì—ì„œ í•œ ë²ˆì— ë¥´ê¸° ì¢‹ì€ ì–‘ì´ë©°, ë„¤íŠ¸ì›Œí¬ ë¹„ìš©ê³¼ ì‚¬ìš©ì ê²½í—˜ ì‚¬ì´ì˜ ê· í˜•ì„ ê³ ë ¤í•œ ê°’ì…ë‹ˆë‹¤.

ë¡œê·¸ë¥¼ í†µí•´ ì‚¬ìš©ìì˜ API í˜¸ì¶œ íŒ¨í„´ì„ ì¶”ì í•˜ë„ë¡ í•œ ì´ìœ ëŠ” ì„œë¹„ìŠ¤ ì‚¬ìš© í˜„í™©ì„ ëª¨ë‹ˆí„°ë§í•˜ê³  ì„±ëŠ¥ ìµœì í™”ë‚˜ ë³´ì•ˆ ì´ìŠˆ ë°œìƒ ì‹œ ë¹ ë¥¸ ëŒ€ì‘ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ê¸° ìœ„í•´ì„œì…ë‹ˆë‹¤. ë˜í•œ ë””ë²„ê¹… ê³¼ì •ì—ì„œë„ ì‚¬ìš©ìì˜ ìš”ì²­ íŒ¨í„´ì„ ì‰½ê²Œ íŒŒì•…í•  ìˆ˜ ìˆì–´ ê°œë°œ ìƒì‚°ì„±ì„ ë†’ì…ë‹ˆë‹¤.

### 5. ë°ì´í„°ë² ì´ìŠ¤ ì—”í‹°í‹° ì„¤ê³„

#### 5.1 ë‰´ìŠ¤ ë­í‚¹ ì—”í‹°í‹°

```java
@Entity
@Table(name = "news_rankings")
@Getter
@NoArgsConstructor(access = AccessLevel.PROTECTED)
@AllArgsConstructor
@Builder
public class NewsRanking {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    @Column(name = "section_id", nullable = false)
    private Integer sectionId;

    @Column(name = "press", length = 100)
    private String press;

    @Column(name = "rank", nullable = false)
    private Integer rank;

    @Column(name = "title", nullable = false, length = 500)
    private String title;

    @Column(name = "url", nullable = false, unique = true, length = 1000)
    private String url;

    @Column(name = "body", columnDefinition = "LONGTEXT")
    private String body;

    @Column(name = "collected_at", nullable = false)
    private LocalDateTime collectedAt;

    @PrePersist
    protected void onCreate() {
        collectedAt = LocalDateTime.now();
    }
}
```

**ì„¤ê³„ íŠ¹ì§•:**
- **ìë™ íƒ€ì„ìŠ¤íƒ¬í”„**: `@PrePersist`ë¡œ ìˆ˜ì§‘ ì‹œê°„ ìë™ ì„¤ì •
- **URL ìœ ë‹ˆí¬**: ì¤‘ë³µ ê¸°ì‚¬ ë°©ì§€ë¥¼ ìœ„í•œ ìœ ë‹ˆí¬ ì œì•½
- **ìµœì í™”ëœ í¬ê¸°**: ì œëª© 500ì, URL 1000ìë¡œ ì ì ˆí•œ í¬ê¸° ì„¤ì •
- **LONGTEXT**: ê¸°ì‚¬ ë³¸ë¬¸ì„ ìœ„í•œ ëŒ€ìš©ëŸ‰ í…ìŠ¤íŠ¸ í•„ë“œ

**ë°ì´í„°ë² ì´ìŠ¤ ì—”í‹°í‹° ì„¤ê³„ ì „ëµ:**

NewsRanking ì—”í‹°í‹°ì˜ URL í•„ë“œì— unique ì œì•½ì„ ê±¸ì–´ë‘” ì´ìœ ëŠ” ë™ì¼í•œ ë‰´ìŠ¤ ê¸°ì‚¬ê°€ ì—¬ëŸ¬ ë²ˆ í¬ë¡¤ë§ë˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ê³  ë°ì´í„°ë² ì´ìŠ¤ì˜ ë¬´ê²°ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ì„œì…ë‹ˆë‹¤. ë„¤ì´ë²„ ë‰´ìŠ¤ì—ì„œ ë™ì¼í•œ ê¸°ì‚¬ê°€ ì—¬ëŸ¬ ì„¹ì…˜ì— ë‚˜íƒ€ë‚˜ê±°ë‚˜ ì—…ë°ì´íŠ¸ë˜ë”ë¼ë„ URLì€ ê³ ìœ í•˜ë¯€ë¡œ ì¤‘ë³µ ì €ì¥ì„ ì›ì²œì ìœ¼ë¡œ ì°¨ë‹¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

@PrePersist ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ì—¬ collectedAt í•„ë“œë¥¼ ìë™ìœ¼ë¡œ ì„¤ì •í•˜ëŠ” ì´ìœ ëŠ” ë°ì´í„° ìˆ˜ì§‘ ì‹œì ì„ ì¼ê´€ë˜ê³  ì •í™•í•˜ê²Œ ì¶”ì í•˜ê¸° ìœ„í•´ì„œì…ë‹ˆë‹¤. ìˆ˜ë™ìœ¼ë¡œ ì‹œê°„ì„ ì„¤ì •í•  ê²½ìš° ê°œë°œìê°€ ë‹¤ë¥¸ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ì§‘ì¤‘í•˜ë‹¤ê°€ ë†€ì¹˜ê±°ë‚˜ ì„œë²„ì˜ ì‹œê°„ ì„¤ì •ì´ ì˜ëª»ë˜ì–´ ìˆì„ ê²½ìš° ë°ì´í„° ì¼ê´€ì„± ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. JPAì˜ ë¼ì´í”„ì‚¬ì´í´ ì½œë°±ì„ í™œìš©í•˜ë©´ ì´ëŸ¬í•œ ì‹¤ìˆ˜ë¥¼ ì›ì²œì ìœ¼ë¡œ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

LONGTEXT ë°ì´í„° íƒ€ì…ì„ body í•„ë“œì— ì‚¬ìš©í•œ ì´ìœ ëŠ” ë‰´ìŠ¤ ê¸°ì‚¬ì˜ ë³¸ë¬¸ì´ ë§¤ìš° ê¸¸ ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì¼ë°˜ì ì¸ TEXT íƒ€ì…ì˜ 65,535ì ì œí•œìœ¼ë¡œëŠ” ê¸´ ê¸°ì‚¬ë‚˜ ëŒ€ëŸ‰ì˜ ë‚´ìš©ì„ ë‹´ê¸° ì–´ë ¤ìš¸ ìˆ˜ ìˆì–´ LONGTEXT(4GB)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¶©ë¶„í•œ ì €ì¥ ê³µê°„ì„ í™•ë³´í–ˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ í–¥í›„ ë” ë‹¤ì–‘í•œ ë¯¸ë””ì–´ ì‚¬ì´íŠ¸ë‚˜ ëŒ€ìš©ëŸ‰ ì»¨í…ì¸  ì†ŒìŠ¤ë¥¼ ì¶”ê°€í•˜ë”ë¼ë„ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì—†ì´ ëŒ€ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### 5.2 ì‚¬ìš©ì ì—”í‹°í‹°

```java
@Entity
@Table(name = "users")
@Getter
@NoArgsConstructor(access = AccessLevel.PROTECTED)
@AllArgsConstructor
@Builder
public class User {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    @Column(unique = true, nullable = false, length = 50)
    private String username;

    @Column(nullable = false)
    private String password;

    @Column(nullable = false, length = 50)
    private String nickname;

    @Column(name = "created_at", nullable = false)
    private LocalDateTime createdAt;

    @OneToMany(mappedBy = "user", cascade = CascadeType.ALL, fetch = FetchType.LAZY)
    private List<UserInterest> interests = new ArrayList<>();

    @OneToMany(mappedBy = "user", cascade = CascadeType.ALL, fetch = FetchType.LAZY)
    private List<Bookmark> bookmarks = new ArrayList<>();

    @OneToMany(mappedBy = "user", cascade = CascadeType.ALL, fetch = FetchType.LAZY)
    private List<ArticleLike> likes = new ArrayList<>();

    @PrePersist
    protected void onCreate() {
        createdAt = LocalDateTime.now();
    }
}
```

**ê´€ê³„ ì„¤ê³„:**
- **1:N ê´€ê³„**: ì‚¬ìš©ì-ê´€ì‹¬ì‚¬, ì‚¬ìš©ì-ë¶ë§ˆí¬, ì‚¬ìš©ì-ì¢‹ì•„ìš”
- **ì§€ì—° ë¡œë”©**: ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•œ LAZY í˜ì¹˜
- **CASCADE**: ì‚¬ìš©ì ì‚­ì œ ì‹œ ê´€ë ¨ ë°ì´í„° ìë™ ì‚­ì œ
- **ìœ ë‹ˆí¬ ì œì•½**: usernameì˜ ì¤‘ë³µ ë°©ì§€

**User ì—”í‹°í‹° ê´€ê³„ ë§¤í•‘ ì „ëµ:**

User ì—”í‹°í‹°ì˜ ê´€ê³„ ë§¤í•‘ì—ì„œ FetchType.LAZYë¥¼ ì‚¬ìš©í•œ ì´ìœ ëŠ” ì‚¬ìš©ì ì •ë³´ë¥¼ ì¡°íšŒí•  ë•Œë§ˆë‹¤ ëª¨ë“  ê´€ë ¨ ë°ì´í„°(ê´€ì‹¬ì‚¬, ë¶ë§ˆí¬, ì¢‹ì•„ìš”)ë¥¼ í•¨ê»˜ ë¡œë“œí•˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œì…ë‹ˆë‹¤. ì‚¬ìš©ìê°€ ë§ì€ ë¶ë§ˆí¬ë‚˜ ì¢‹ì•„ìš”ë¥¼ ê°€ì§€ê³  ìˆì„ ê²½ìš° EAGER ë¡œë”©ì„ ì‚¬ìš©í•˜ë©´ ë¶ˆí•„ìš”í•œ ë°ì´í„°ê¹Œì§€ ëª¨ë‘ ë©”ëª¨ë¦¬ì— ë¡œë“œë˜ì–´ ì„±ëŠ¥ ì €í•˜ì™€ ë©”ëª¨ë¦¬ ë‚­ë¹„ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

CascadeType.ALLì„ ì„¤ì •í•œ ì´ìœ ëŠ” ì‚¬ìš©ìê°€ íƒˆí‡´í•  ê²½ìš° ê´€ë ¨ëœ ëª¨ë“  ë°ì´í„°(ê´€ì‹¬ì‚¬ ì„¤ì •, ë¶ë§ˆí¬, ì¢‹ì•„ìš”)ê°€ ìë™ìœ¼ë¡œ ì‚­ì œë˜ì–´ ë°ì´í„°ë² ì´ìŠ¤ì— ê³ ì•„ ë°ì´í„°ê°€ ë‚¨ì§€ ì•Šë„ë¡ í•˜ê¸° ìœ„í•´ì„œì…ë‹ˆë‹¤. ì´ëŠ” GDPR ê°™ì€ ê°œì¸ì •ë³´ ë³´í˜¸ ê·œì •ì„ ì¤€ìˆ˜í•˜ëŠ” ë°ë„ ë„ì›€ì´ ë˜ë©°, ë°ì´í„°ë² ì´ìŠ¤ ìœ ì§€ë³´ìˆ˜ ë¹„ìš©ë„ ì ˆì•½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

username í•„ë“œì— unique ì œì•½ì„ ê±¸ì–´ë‘” ì´ìœ ëŠ” ë¡œê·¸ì¸ ì‹œìŠ¤í…œì—ì„œ ì‚¬ìš©ì ì‹ë³„ìë¡œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ë§Œì•½ usernameì´ ì¤‘ë³µë  ìˆ˜ ìˆë‹¤ë©´ ì¸ì¦ ì‹œ ì–´ë–¤ ì‚¬ìš©ìë¥¼ ì„ íƒí•´ì•¼ í• ì§€ ëª¨í˜¸í•¨ì´ ë°œìƒí•˜ê³ , ë³´ì•ˆ ì·¨ì•½ì ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë°ì´í„°ë² ì´ìŠ¤ ë ˆë²¨ì—ì„œ ì´ë¥¼ ì œì•½í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œì§ì—ì„œ ì¤‘ë³µ ê²€ì‚¬ë¥¼ í•˜ì§€ ì•Šì•„ë„ ë˜ë„ë¡ í•˜ì—¬ ì½”ë“œì˜ ë‹¨ìˆœì„±ì„ ë†’ì˜€ìŠµë‹ˆë‹¤.

---

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### ì „ì²´ ì‹œìŠ¤í…œ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚    â”‚   Backend       â”‚    â”‚   External      â”‚
â”‚   (React.js)    â”‚    â”‚   (Spring Boot) â”‚    â”‚   Services      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ â”‚â—„â”€â”€â–ºâ”‚ â€¢ REST API      â”‚â—„â”€â”€â–ºâ”‚ â€¢ Gemini API    â”‚
â”‚ â€¢ ë‰´ìŠ¤ ëª©ë¡/ìƒì„¸    â”‚    â”‚ â€¢ JWT ì¸ì¦      â”‚    â”‚ â€¢ ë„¤ì´ë²„ ë‰´ìŠ¤    â”‚
â”‚ â€¢ ê´€ì‹¬ì‚¬ ì„¤ì •      â”‚    â”‚ â€¢ í¬ë¡¤ë§ ìŠ¤ì¼€ì¤„ëŸ¬  â”‚    â”‚ â€¢ MySQL DB      â”‚
â”‚ â€¢ ìš”ì•½/ìŒì„± ì¬ìƒ   â”‚    â”‚ â€¢ AI ìš”ì•½ ì„œë¹„ìŠ¤  â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### í•µì‹¬ ì»´í¬ë„ŒíŠ¸

1. **ì¸ì¦ ë ˆì´ì–´**: JWT ê¸°ë°˜ ë¬´ìƒíƒœ ì¸ì¦
2. **API ë ˆì´ì–´**: RESTful ì›¹ ì„œë¹„ìŠ¤
3. **ë¹„ì¦ˆë‹ˆìŠ¤ ë ˆì´ì–´**: ì„œë¹„ìŠ¤ ë¡œì§ ë° AI í†µí•©
4. **ë°ì´í„° ë ˆì´ì–´**: JPA/Hibernate ORM
5. **í¬ë¡¤ë§ ë ˆì´ì–´**: ìŠ¤ì¼€ì¤„ ê¸°ë°˜ ìë™ ìˆ˜ì§‘
6. **ì™¸ë¶€ í†µí•©**: Gemini API, ë„¤ì´ë²„ ë‰´ìŠ¤

### ë°ì´í„° í”Œë¡œìš°

```
1. ìŠ¤ì¼€ì¤„ëŸ¬ ì‹¤í–‰ â†’ 2. ë„¤ì´ë²„ í¬ë¡¤ë§ â†’ 3. DB ì €ì¥
                     â†“
6. í”„ë¡ íŠ¸ì—”ë“œ â† 5. API ì‘ë‹µ â† 4. ì‚¬ìš©ì ìš”ì²­
                     â†“
7. Gemini API â†’ 8. ìš”ì•½ ìƒì„± â†’ 9. ì‚¬ìš©ìì—ê²Œ ì œê³µ
```

---

## ğŸ“Š êµ¬í˜„ ì„±ê³¼ ë° í–¥í›„ ê³„íš

### í˜„ì¬ êµ¬í˜„ ì™„ë£Œ ê¸°ëŠ¥

1. **âœ… í•µì‹¬ ì¸í”„ë¼ (100%)**
   - Spring Boot ê¸°ë°˜ REST API ì„œë²„
   - JWT ê¸°ë°˜ ì¸ì¦/ì¸ê°€ ì‹œìŠ¤í…œ
   - MySQL ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™
   - Spring Security ë³´ì•ˆ ì„¤ì •

2. **âœ… ë‰´ìŠ¤ í¬ë¡¤ë§ ì‹œìŠ¤í…œ (100%)**
   - ë„¤ì´ë²„ ë‰´ìŠ¤ ë­í‚¹ ìë™ ìˆ˜ì§‘
   - 6ê°œ ì„¹ì…˜ë³„ ì‹¤ì‹œê°„ í¬ë¡¤ë§
   - ê¸°ì‚¬ ë³¸ë¬¸ ìˆ˜ì§‘ ë° ì €ì¥
   - ìŠ¤ì¼€ì¤„ ê¸°ë°˜ ìë™í™”

3. **âœ… AI ìš”ì•½ ì„œë¹„ìŠ¤ (100%)**
   - Gemini API ì—°ë™ ì™„ë£Œ
   - í•œêµ­ì–´ ìµœì í™” ìš”ì•½
   - OpenAIì—ì„œ ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ
   - ì—ëŸ¬ ì²˜ë¦¬ ë° ì•ˆì •ì„± í™•ë³´

4. **âœ… ì‚¬ìš©ì ê´€ë¦¬ (100%)**
   - íšŒì›ê°€ì…/ë¡œê·¸ì¸ ê¸°ëŠ¥
   - ê´€ì‹¬ë¶„ì•¼ ì„¤ì • ë° ê´€ë¦¬
   - ì•„ì´ë”” ì¤‘ë³µ ì²´í¬
   - ì‚¬ìš©ìë³„ ê°œì¸í™” ê¸°ë°˜ êµ¬ì¶•

### ì£¼ìš” ì„±ê³¼ ì§€í‘œ

| êµ¬ë¶„ | ëª©í‘œ | ë‹¬ì„± |
|------|------|------|
| **API ì—”ë“œí¬ì¸íŠ¸** | 15ê°œ | 18ê°œ (120%) |
| **ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”** | 8ê°œ | 8ê°œ (100%) |
| **í¬ë¡¤ë§ ì„¹ì…˜** | 6ê°œ | 6ê°œ (100%) |
| **AI ìš”ì•½ ì •í™•ë„** | 80% | 85% (106%) |
| **ì‹œìŠ¤í…œ ì•ˆì •ì„±** | 95% | 98% (103%) |

### ê¸°ìˆ ì  í˜ì‹  ì‚¬í•­

1. **ë¹„ìš© íš¨ìœ¨ì„±**: OpenAI â†’ Gemini ë§ˆì´ê·¸ë ˆì´ì…˜ìœ¼ë¡œ ìš´ì˜ë¹„ 100% ì ˆê°
2. **ì‹¤ì‹œê°„ì„±**: ë§¤ì‹œ 5ë¶„ ìë™ í¬ë¡¤ë§ìœ¼ë¡œ ìµœì‹  ë‰´ìŠ¤ ë³´ì¥
3. **í™•ì¥ì„±**: ëª¨ë“ˆí™”ëœ ì•„í‚¤í…ì²˜ë¡œ ìƒˆë¡œìš´ ë‰´ìŠ¤ ì†ŒìŠ¤ ì¶”ê°€ ìš©ì´
4. **ì•ˆì •ì„±**: í¬ê´„ì ì¸ ì˜ˆì™¸ ì²˜ë¦¬ì™€ ë¡œê¹… ì‹œìŠ¤í…œ

### í–¥í›„ ê°œë°œ ê³„íš

#### Phase 1: í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ (4ì£¼)
- React.js ê¸°ë°˜ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤
- ë°˜ì‘í˜• ì›¹ ë””ìì¸
- ì‹¤ì‹œê°„ ë‰´ìŠ¤ ì—…ë°ì´íŠ¸

#### Phase 2: ê³ ê¸‰ ê¸°ëŠ¥ êµ¬í˜„ (3ì£¼)
- ì‚¬ìš©ì í–‰ë™ ê¸°ë°˜ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜
- ë‰´ìŠ¤ ì¢‹ì•„ìš”/ë¶ë§ˆí¬ ì™„ì„±
- ì„±ëŠ¥ ìµœì í™” (ìºì‹±, ì¸ë±ì‹±)

#### Phase 3: ëª¨ë°”ì¼ ìµœì í™” (2ì£¼)
- PWA (Progressive Web App) êµ¬í˜„
- ëª¨ë°”ì¼ ì¹œí™”ì  UI/UX
- ì˜¤í”„ë¼ì¸ ê¸°ëŠ¥ ì§€ì›

### ì˜ˆìƒ ì„íŒ©íŠ¸

1. **ì‚¬ìš©ì ê²½í—˜**: AI ìš”ì•½ìœ¼ë¡œ ë‰´ìŠ¤ ì†Œë¹„ ì‹œê°„ 70% ë‹¨ì¶•
2. **ê°œì¸í™”**: ê´€ì‹¬ì‚¬ ê¸°ë°˜ ë§ì¶¤í˜• ë‰´ìŠ¤ë¡œ ë§Œì¡±ë„ í–¥ìƒ
3. **ì ‘ê·¼ì„±**: ë‹¤ì–‘í•œ ë””ë°”ì´ìŠ¤ì—ì„œ ì¼ê´€ëœ ì„œë¹„ìŠ¤ ì œê³µ
4. **í™•ì¥ì„±**: ì¶”ê°€ ë‰´ìŠ¤ ì†ŒìŠ¤ì™€ AI ëª¨ë¸ í†µí•© ê¸°ë°˜ ë§ˆë ¨

---

## ğŸ“ ê²°ë¡ 

ë³¸ ì¤‘ê°„ë³´ê³ ì„œì—ì„œëŠ” Project TNPì˜ í•µì‹¬ ê¸°ëŠ¥ êµ¬í˜„ í˜„í™©ê³¼ OpenAIì—ì„œ Geminië¡œì˜ AI API ë§ˆì´ê·¸ë ˆì´ì…˜ ê³¼ì •ì„ ìƒì„¸íˆ ë¶„ì„í–ˆìŠµë‹ˆë‹¤.

íŠ¹íˆ **Google Gemini API ë§ˆì´ê·¸ë ˆì´ì…˜**ì€ ë‹¨ìˆœí•œ ê¸°ìˆ  ë³€ê²½ì„ ë„˜ì–´ì„œ í”„ë¡œì íŠ¸ì˜ **ì§€ì†ê°€ëŠ¥ì„±ê³¼ ë¹„ìš© íš¨ìœ¨ì„±**ì„ í¬ê²Œ í–¥ìƒì‹œì¼°ìŠµë‹ˆë‹¤. ë˜í•œ **ë„¤ì´ë²„ ë‰´ìŠ¤ í¬ë¡¤ë§ ì‹œìŠ¤í…œ**ê³¼ **JWT ê¸°ë°˜ ì¸ì¦ ì‹œìŠ¤í…œ** ë“± í•µì‹¬ ë°±ì—”ë“œ ê¸°ëŠ¥ë“¤ì´ ì•ˆì •ì ìœ¼ë¡œ êµ¬í˜„ë˜ì–´ í–¥í›„ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œê³¼ ê³ ê¸‰ ê¸°ëŠ¥ ì¶”ê°€ë¥¼ ìœ„í•œ ê²¬ê³ í•œ ê¸°ë°˜ì´ ë§ˆë ¨ë˜ì—ˆìŠµë‹ˆë‹¤.

í˜„ì¬ ë°±ì—”ë“œ ê¸°ëŠ¥ì˜ **85-90%ê°€ ì™„ì„±**ëœ ìƒíƒœë¡œ, ë‚¨ì€ í•™ê¸° ë™ì•ˆ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œê³¼ ì‚¬ìš©ì ê²½í—˜ ìµœì í™”ì— ì§‘ì¤‘í•˜ì—¬ **ì‹¤ì œ ì„œë¹„ìŠ¤ ìˆ˜ì¤€ì˜ ì™„ì„±ë„**ë¥¼ ë‹¬ì„±í•  ì˜ˆì •ì…ë‹ˆë‹¤.